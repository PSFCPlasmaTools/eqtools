
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>eqtools.AUGData &#8212; eqtools 1.3.2 documentation</title>
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">eqtools 1.3.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Module code</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for eqtools.AUGData</h1><div class="highlight"><pre>
<span></span><span class="c1"># This program is distributed under the terms of the GNU General Purpose License (GPL).</span>
<span class="c1"># Refer to http://www.gnu.org/licenses/gpl.txt</span>
<span class="c1">#</span>
<span class="c1"># This file is part of EqTools.</span>
<span class="c1">#</span>
<span class="c1"># EqTools is free software: you can redistribute it and/or modify</span>
<span class="c1"># it under the terms of the GNU General Public License as published by</span>
<span class="c1"># the Free Software Foundation, either version 3 of the License, or</span>
<span class="c1"># (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1"># EqTools is distributed in the hope that it will be useful,</span>
<span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c1"># GNU General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the GNU General Public License</span>
<span class="c1"># along with EqTools.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>

<span class="sd">&quot;&quot;&quot;This module provides classes inheriting :py:class:`eqtools.Equilibrium` for</span>
<span class="sd">working with ASDEX Upgrade experimental data.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">scipy</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">namedtuple</span>

<span class="kn">from</span> <span class="nn">.core</span> <span class="k">import</span> <span class="n">PropertyAccessMixin</span><span class="p">,</span> <span class="n">ModuleWarning</span><span class="p">,</span> <span class="n">Equilibrium</span><span class="p">,</span> <span class="n">inPolygon</span>

<span class="kn">import</span> <span class="nn">warnings</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">dd</span>
    <span class="kn">from</span> <span class="nn">dd</span> <span class="k">import</span> <span class="n">PyddError</span>
    <span class="n">_has_dd</span> <span class="o">=</span> <span class="kc">True</span>

<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">_e_dd</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_e_dd</span><span class="p">,</span> <span class="ne">ImportError</span><span class="p">):</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;dd module could not be loaded -- classes that use &quot;</span>
            <span class="s2">&quot;dd for data access will not work.&quot;</span><span class="p">,</span>
            <span class="n">ModuleWarning</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;dd module could not be loaded -- classes that use &quot;</span>
            <span class="s2">&quot;dd for data access will not work. Exception raised &quot;</span>
            <span class="s2">&quot;was of type </span><span class="si">{:s}</span><span class="s2">, message was &#39;</span><span class="si">{:s}</span><span class="s2">&#39;.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">_e_dd</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="n">_e_dd</span><span class="o">.</span><span class="n">message</span>
            <span class="p">),</span>
            <span class="n">ModuleWarning</span>
        <span class="p">)</span>
    <span class="n">_has_dd</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
    <span class="n">_has_plt</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s2">&quot;Matplotlib.pyplot module could not be loaded -- classes that &quot;</span>
        <span class="s2">&quot;use pyplot will not work.&quot;</span><span class="p">,</span>
        <span class="n">ModuleWarning</span>
    <span class="p">)</span>
    <span class="n">_has_plt</span> <span class="o">=</span> <span class="kc">False</span>


<div class="viewcode-block" id="AUGDDData"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData">[docs]</a><span class="k">class</span> <span class="nc">AUGDDData</span><span class="p">(</span><span class="n">Equilibrium</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Inherits :py:class:`eqtools.Equilibrium` class. Machine-specific data</span>
<span class="sd">    handling class for ASDEX Upgrade. Pulls AFS data from selected location</span>
<span class="sd">    and shotfile, stores as object attributes. Each data variable or set of</span>
<span class="sd">    variables is recovered with a corresponding getter method. Essential data</span>
<span class="sd">    for mapping are pulled on initialization (e.g. psirz grid). Additional</span>
<span class="sd">    data are pulled at the first request and stored for subsequent usage.</span>

<span class="sd">    Intializes ASDEX Upgrade version of the Equilibrium object.  Pulls data to</span>
<span class="sd">    storage in instance attributes.  Core attributes are populated from the AFS</span>
<span class="sd">    data on initialization.  Additional attributes are initialized as None,</span>
<span class="sd">    filled on the first request to the object.</span>

<span class="sd">    Args:</span>
<span class="sd">        shot (integer): ASDEX Upgrade shot index.</span>

<span class="sd">    Keyword Args:</span>
<span class="sd">        shotfile (string): Optional input for alternate shotfile, defaults to &#39;EQH&#39;</span>
<span class="sd">            (i.e., CLISTE results are in EQH,EQI with other reconstructions</span>
<span class="sd">            Available (FPP, EQE, ect.).</span>
<span class="sd">        edition (integer): Describes the edition of the shotfile to be used</span>
<span class="sd">        shotfile2 (string): Describes companion 0D equilibrium data, will automatically</span>
<span class="sd">            reference based off of shotfile, but can be manually specified for</span>
<span class="sd">            unique reconstructions, etc.</span>
<span class="sd">        length_unit (string): Sets the base unit used for any quantity whose</span>
<span class="sd">            dimensions are length to any power. Valid options are:</span>

<span class="sd">                ===========  ===========================================================================================</span>
<span class="sd">                &#39;m&#39;          meters</span>
<span class="sd">                &#39;cm&#39;         centimeters</span>
<span class="sd">                &#39;mm&#39;         millimeters</span>
<span class="sd">                &#39;in&#39;         inches</span>
<span class="sd">                &#39;ft&#39;         feet</span>
<span class="sd">                &#39;yd&#39;         yards</span>
<span class="sd">                &#39;smoot&#39;      smoots</span>
<span class="sd">                &#39;cubit&#39;      cubits</span>
<span class="sd">                &#39;hand&#39;       hands</span>
<span class="sd">                &#39;default&#39;    whatever the default in the tree is (no conversion is performed, units may be inconsistent)</span>
<span class="sd">                ===========  ===========================================================================================</span>

<span class="sd">            Default is &#39;m&#39; (all units taken and returned in meters).</span>
<span class="sd">        tspline (Boolean): Sets whether or not interpolation in time is</span>
<span class="sd">            performed using a tricubic spline or nearest-neighbor</span>
<span class="sd">            interpolation. Tricubic spline interpolation requires at least</span>
<span class="sd">            four complete equilibria at different times. It is also assumed</span>
<span class="sd">            that they are functionally correlated, and that parameters do</span>
<span class="sd">            not vary out of their boundaries (derivative = 0 boundary</span>
<span class="sd">            condition). Default is False (use nearest neighbor interpolation).</span>
<span class="sd">        monotonic (Boolean): Sets whether or not the &quot;monotonic&quot; form of time</span>
<span class="sd">            window finding is used. If True, the timebase must be monotonically</span>
<span class="sd">            increasing. Default is False (use slower, safer method).</span>
<span class="sd">        experiment: Used to describe the work space that the shotfile is located</span>
<span class="sd">            It defaults to &#39;AUGD&#39; but can be set to other values</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># its like relating g files to a files</span>
    <span class="n">_relatedSVFile</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;EQI&#39;</span><span class="p">:</span> <span class="s1">&#39;GQI&#39;</span><span class="p">,</span> <span class="s1">&#39;EQH&#39;</span><span class="p">:</span> <span class="s1">&#39;GQH&#39;</span><span class="p">,</span> <span class="s1">&#39;EQE&#39;</span><span class="p">:</span> <span class="s1">&#39;GQE&#39;</span><span class="p">,</span> <span class="s1">&#39;FPP&#39;</span><span class="p">:</span> <span class="s1">&#39;GPI&#39;</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">shot</span><span class="p">,</span> <span class="n">shotfile</span><span class="o">=</span><span class="s1">&#39;EQH&#39;</span><span class="p">,</span> <span class="n">edition</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">shotfile2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">,</span>
        <span class="n">tspline</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">monotonic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">experiment</span><span class="o">=</span><span class="s1">&#39;AUGD&#39;</span>
    <span class="p">):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">_has_dd</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dd module did not load properly&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Most functionality will not be available!&quot;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">AUGDDData</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">length_unit</span><span class="o">=</span><span class="n">length_unit</span><span class="p">,</span> <span class="n">tspline</span><span class="o">=</span><span class="n">tspline</span><span class="p">,</span> <span class="n">monotonic</span><span class="o">=</span><span class="n">monotonic</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_shot</span> <span class="o">=</span> <span class="n">shot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span> <span class="o">=</span> <span class="n">shotfile</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_shot</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="p">,</span> <span class="n">edition</span><span class="p">,</span> <span class="n">experiment</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">shotfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="p">,</span>
                                    <span class="bp">self</span><span class="o">.</span><span class="n">_shot</span><span class="p">,</span>
                                    <span class="n">edition</span><span class="o">=</span><span class="n">edition</span><span class="p">,</span>
                                    <span class="n">experiment</span><span class="o">=</span><span class="n">experiment</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">shotfile2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">shotfile2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relatedSVFile</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="p">]</span>

            <span class="c1"># Overwrite getSSQ with a shotfile with same capabilities</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">shotfile</span><span class="p">(</span><span class="n">shotfile2</span><span class="p">,</span>
                                      <span class="bp">self</span><span class="o">.</span><span class="n">_shot</span><span class="p">,</span>
                                      <span class="n">edition</span><span class="o">=</span><span class="n">edition</span><span class="p">,</span>
                                      <span class="n">experiment</span><span class="o">=</span><span class="n">experiment</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="n">PyddError</span><span class="p">):</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s1">&#39;Companion SV not valid, extracting from &#39;</span>
                <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span> <span class="o">+</span> <span class="s1">&#39;:SSQ&#39;</span><span class="p">,</span>
                <span class="ne">RuntimeWarning</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># initialize None for non-essential data</span>

        <span class="c1"># grad-shafranov related parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fpol</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fluxPres</span> <span class="o">=</span> <span class="kc">None</span>                                                <span class="c1"># pressure on flux surface (psi,t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ffprim</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pprime</span> <span class="o">=</span> <span class="kc">None</span>                                                  <span class="c1"># pressure derivative on flux surface (t,psi)</span>

        <span class="c1"># fields</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_btaxp</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1"># Bt on-axis, with plasma (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_btaxv</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1"># Bt on-axis, vacuum (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bpolav</span> <span class="o">=</span> <span class="kc">None</span>                                                  <span class="c1"># avg poloidal field (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_BCentr</span> <span class="o">=</span> <span class="kc">None</span>                                                  <span class="c1"># Bt at RCentr, vacuum (for gfiles) (t)</span>

        <span class="c1"># plasma current</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_IpCalc</span> <span class="o">=</span> <span class="kc">None</span>                                                  <span class="c1"># calculated plasma current (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_IpMeas</span> <span class="o">=</span> <span class="kc">None</span>                                                  <span class="c1"># measured plasma current (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_Jp</span> <span class="o">=</span> <span class="kc">None</span>                                                      <span class="c1"># grid of current density (r,z,t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_currentSign</span> <span class="o">=</span> <span class="kc">None</span>                                             <span class="c1"># sign of current for entire shot (calculated in moderately kludgey manner)</span>

        <span class="c1"># safety factor parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_q0</span> <span class="o">=</span> <span class="kc">None</span>                                                      <span class="c1"># q on-axis (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_q95</span> <span class="o">=</span> <span class="kc">None</span>                                                     <span class="c1"># q at 95% flux (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_qLCFS</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1"># q at LCFS (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rq1</span> <span class="o">=</span> <span class="kc">None</span>                                                     <span class="c1"># outboard-midplane minor radius of q=1 surface (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rq2</span> <span class="o">=</span> <span class="kc">None</span>                                                     <span class="c1"># outboard-midplane minor radius of q=2 surface (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rq3</span> <span class="o">=</span> <span class="kc">None</span>                                                     <span class="c1"># outboard-midplane minor radius of q=3 surface (t)</span>

        <span class="c1"># shaping parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_kappa</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1"># LCFS elongation (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dupper</span> <span class="o">=</span> <span class="kc">None</span>                                                  <span class="c1"># LCFS upper triangularity (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dlower</span> <span class="o">=</span> <span class="kc">None</span>                                                  <span class="c1"># LCFS lower triangularity (t)</span>

        <span class="c1"># (dimensional) geometry parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rmag</span> <span class="o">=</span> <span class="kc">None</span>                                                    <span class="c1"># major radius, magnetic axis (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_zmag</span> <span class="o">=</span> <span class="kc">None</span>                                                    <span class="c1"># Z magnetic axis (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_aLCFS</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1"># outboard-midplane minor radius (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_RmidLCFS</span> <span class="o">=</span> <span class="kc">None</span>                                                <span class="c1"># outboard-midplane major radius (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_areaLCFS</span> <span class="o">=</span> <span class="kc">None</span>                                                <span class="c1"># LCFS surface area (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_RLCFS</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1"># R-positions of LCFS (t,n)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ZLCFS</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1"># Z-positions of LCFS (t,n)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_RCentr</span> <span class="o">=</span> <span class="kc">None</span>                                                  <span class="c1"># Radius for BCentr calculation (for gfiles) (t)</span>

        <span class="c1"># machine geometry parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_Rlimiter</span> <span class="o">=</span> <span class="kc">None</span>                                                <span class="c1"># R-positions of vacuum-vessel wall (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_Zlimiter</span> <span class="o">=</span> <span class="kc">None</span>                                                <span class="c1"># Z-positions of vacuum-vessel wall (t)</span>

        <span class="c1"># calc. normalized-pressure values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_betat</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1"># calc toroidal beta (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_betap</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1"># calc avg. poloidal beta (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_Li</span> <span class="o">=</span> <span class="kc">None</span>                                                      <span class="c1"># calc internal inductance (t)</span>

        <span class="c1"># diamagnetic measurements</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_diamag</span> <span class="o">=</span> <span class="kc">None</span>                                                  <span class="c1"># diamagnetic flux (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_betatd</span> <span class="o">=</span> <span class="kc">None</span>                                                  <span class="c1"># diamagnetic toroidal beta (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_betapd</span> <span class="o">=</span> <span class="kc">None</span>                                                  <span class="c1"># diamagnetic poloidal beta (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_WDiamag</span> <span class="o">=</span> <span class="kc">None</span>                                                 <span class="c1"># diamagnetic stored energy (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tauDiamag</span> <span class="o">=</span> <span class="kc">None</span>                                               <span class="c1"># diamagnetic energy confinement time (t)</span>

        <span class="c1"># energy calculations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_WMHD</span> <span class="o">=</span> <span class="kc">None</span>                                                    <span class="c1">#calc stored energy (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tauMHD</span> <span class="o">=</span> <span class="kc">None</span>                                                  <span class="c1">#calc energy confinement time (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_Pinj</span> <span class="o">=</span> <span class="kc">None</span>                                                    <span class="c1">#calc injected power (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_Wbdot</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1">#d/dt magnetic stored energy (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_Wpdot</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1">#d/dt plasma stored energy (t)</span>

        <span class="c1"># load essential mapping data</span>
        <span class="c1"># Set the variables to None first so the loading calls will work right:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_time</span> <span class="o">=</span> <span class="kc">None</span>                                                    <span class="c1"># timebase</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_psiRZ</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1"># flux grid (r,z,t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rGrid</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1"># R-axis (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_zGrid</span> <span class="o">=</span> <span class="kc">None</span>                                                   <span class="c1"># Z-axis (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_psiLCFS</span> <span class="o">=</span> <span class="kc">None</span>                                                 <span class="c1"># flux at LCFS (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_psiAxis</span> <span class="o">=</span> <span class="kc">None</span>                                                 <span class="c1"># flux at magnetic axis (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fluxVol</span> <span class="o">=</span> <span class="kc">None</span>                                                 <span class="c1"># volume within flux surface (t,psi)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_volLCFS</span> <span class="o">=</span> <span class="kc">None</span>                                                 <span class="c1"># volume within LCFS (t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_qpsi</span> <span class="o">=</span> <span class="kc">None</span>                                                    <span class="c1"># q profile (psi,t)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_RmidPsi</span> <span class="o">=</span> <span class="kc">None</span>                                                 <span class="c1"># max major radius of flux surface (t,psi)</span>

        <span class="c1"># AUG SV file flag</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_SSQ</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Call the get functions to preload the data. Add any other calls you</span>
        <span class="c1"># want to preload here.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">getTimeBase</span><span class="p">()</span>  <span class="c1"># check</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getTimeBase</span><span class="p">()</span><span class="o">.</span><span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">getFluxGrid</span><span class="p">()</span>  <span class="c1"># loads _psiRZ, _rGrid and _zGrid at once. check</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">getFluxLCFS</span><span class="p">()</span>  <span class="c1"># check</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">getFluxAxis</span><span class="p">()</span>  <span class="c1"># check</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">getFluxVol</span><span class="p">()</span>  <span class="c1">#check</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lpf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getFluxVol</span><span class="p">()</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">getVolLCFS</span><span class="p">()</span>  <span class="c1"># check</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">getQProfile</span><span class="p">()</span>  <span class="c1">#</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;string formatting for ASDEX Upgrade Equilibrium class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">nt</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_time</span><span class="p">)</span>
            <span class="n">nr</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_rGrid</span><span class="p">)</span>
            <span class="n">nz</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_zGrid</span><span class="p">)</span>

            <span class="n">mes</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s1">&#39;AUG data for shot &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_shot</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; from shotfile &#39;</span> <span class="o">+</span>
                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span>
                <span class="s1">&#39;timebase &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_time</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_time</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span>
                <span class="s1">&#39;s in &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">nt</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; points</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">nr</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;x&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">nz</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; spatial grid&#39;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">mes</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;tree has failed data load.&#39;</span>

<div class="viewcode-block" id="AUGDDData.getInfo"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getInfo">[docs]</a>    <span class="k">def</span> <span class="nf">getInfo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns namedtuple of shot information</span>

<span class="sd">        Returns:</span>
<span class="sd">            namedtuple containing</span>

<span class="sd">                =====   ===============================</span>
<span class="sd">                shot    ASDEX Upgrage shot index (long)</span>
<span class="sd">                tree    shotfile (string)</span>
<span class="sd">                nr      size of R-axis for spatial grid</span>
<span class="sd">                nz      size of Z-axis for spatial grid</span>
<span class="sd">                nt      size of timebase for flux grid</span>
<span class="sd">                =====   ===============================</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">nt</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_time</span><span class="p">)</span>
            <span class="n">nr</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_rGrid</span><span class="p">)</span>
            <span class="n">nz</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_zGrid</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="n">nt</span><span class="p">,</span> <span class="n">nr</span><span class="p">,</span> <span class="n">nz</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tree has failed data load.&#39;</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Info&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;shot&#39;</span><span class="p">,</span> <span class="s1">&#39;tree&#39;</span><span class="p">,</span> <span class="s1">&#39;nr&#39;</span><span class="p">,</span> <span class="s1">&#39;nz&#39;</span><span class="p">,</span> <span class="s1">&#39;nt&#39;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">data</span><span class="p">(</span><span class="n">shot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_shot</span><span class="p">,</span> <span class="n">tree</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="p">,</span> <span class="n">nr</span><span class="o">=</span><span class="n">nr</span><span class="p">,</span> <span class="n">nz</span><span class="o">=</span><span class="n">nz</span><span class="p">,</span> <span class="n">nt</span><span class="o">=</span><span class="n">nt</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getTimeBase"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getTimeBase">[docs]</a>    <span class="k">def</span> <span class="nf">getTimeBase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns time base vector.</span>

<span class="sd">        Returns:</span>
<span class="sd">            time (array): [nt] array of time points.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">timeNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_time</span> <span class="o">=</span> <span class="n">timeNode</span><span class="o">.</span><span class="n">data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">timeNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getFluxGrid"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getFluxGrid">[docs]</a>    <span class="k">def</span> <span class="nf">getFluxGrid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns flux grid.</span>

<span class="sd">        Note that this method preserves whatever sign convention is used in AFS.</span>

<span class="sd">        Returns:</span>
<span class="sd">            psiRZ (Array): [nt,nz,nr] array of (non-normalized) flux on grid.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psiRZ</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">psinode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;Ri&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_rGrid</span> <span class="o">=</span> <span class="n">psinode</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># assumes data from first is correct (WHY IS IT EVEN DUPICATED???)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_rGrid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">psinode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
                <span class="n">psinode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;Zj&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_zGrid</span> <span class="o">=</span> <span class="n">psinode</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_zGrid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">psinode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
                <span class="n">psinode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;PFM&#39;</span><span class="p">,</span> <span class="n">calibrated</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># calibrated signal causes seg faults (SERIOUSLY WHAT THE FUCK ASDEX)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_psiRZ</span> <span class="o">=</span> <span class="n">psinode</span><span class="o">.</span><span class="n">data</span><span class="p">[</span>
                    <span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">,</span>
                    <span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_zGrid</span><span class="p">),</span>
                    <span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_rGrid</span><span class="p">)</span>
                <span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_psiRZ&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Vs&#39;</span>  <span class="c1"># HARDCODED DUE TO CALIBRATED=FALSE</span>

            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psiRZ</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getRGrid"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getRGrid">[docs]</a>    <span class="k">def</span> <span class="nf">getRGrid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns R-axis.</span>

<span class="sd">        Returns:</span>
<span class="sd">            rGrid (Array): [nr] array of R-axis of flux grid.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rGrid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>

        <span class="c1"># Default units should be &#39;m&#39;</span>
        <span class="n">unit_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getLengthConversionFactor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_rGrid&#39;</span><span class="p">],</span>
            <span class="n">length_unit</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">unit_factor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rGrid</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getZGrid"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getZGrid">[docs]</a>    <span class="k">def</span> <span class="nf">getZGrid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns Z-axis.</span>

<span class="sd">        Returns:</span>
<span class="sd">            zGrid (Array): [nz] array of Z-axis of flux grid.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zGrid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>

        <span class="c1"># Default units should be &#39;m&#39;</span>
        <span class="n">unit_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getLengthConversionFactor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_zGrid&#39;</span><span class="p">],</span>
            <span class="n">length_unit</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">unit_factor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zGrid</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getFluxAxis"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getFluxAxis">[docs]</a>    <span class="k">def</span> <span class="nf">getFluxAxis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns psi on magnetic axis.</span>

<span class="sd">        Returns:</span>
<span class="sd">            psiAxis (Array): [nt] array of psi on magnetic axis.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psiAxis</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">psiAxisNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;PFxx&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_psiAxis</span> <span class="o">=</span> <span class="n">psiAxisNode</span><span class="o">.</span><span class="n">data</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_psiAxis&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">psiAxisNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psiAxis</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getFluxLCFS"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getFluxLCFS">[docs]</a>    <span class="k">def</span> <span class="nf">getFluxLCFS</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns psi at separatrix.</span>

<span class="sd">        Returns:</span>
<span class="sd">            psiLCFS (Array): [nt] array of psi at LCFS.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psiLCFS</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">psiLCFSNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;PFL&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_psiLCFS</span> <span class="o">=</span> <span class="n">psiLCFSNode</span><span class="o">.</span><span class="n">data</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_psiLCFS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">psiLCFSNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psiLCFS</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getFluxVol"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getFluxVol">[docs]</a>    <span class="k">def</span> <span class="nf">getFluxVol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns volume within flux surface.</span>

<span class="sd">        Keyword Args:</span>
<span class="sd">            length_unit (String or 3): unit for plasma volume.  Defaults to 3,</span>
<span class="sd">                indicating default volumetric unit (typically m^3).</span>

<span class="sd">        Returns:</span>
<span class="sd">            fluxVol (Array): [nt,npsi] array of volume within flux surface.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fluxVol</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">fluxVolNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;Vol&#39;</span><span class="p">)</span>  <span class="c1"># Lpf is unreliable so I have to do this trick....</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">scipy</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">fluxVolNode</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[::</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span>
                <span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># Find the where the volume is non-zero, give the maximum index and add one (for the core value)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_fluxVol</span> <span class="o">=</span> <span class="n">fluxVolNode</span><span class="o">.</span><span class="n">data</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">][</span>
                    <span class="p">:,</span> <span class="p">:</span><span class="mi">2</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="mi">2</span>
                <span class="p">][:,</span> <span class="p">::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># reverse it so that it is a monotonically increasing function</span>
                <span class="k">if</span> <span class="n">fluxVolNode</span><span class="o">.</span><span class="n">unit</span> <span class="o">!=</span> <span class="s1">&#39; &#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_fluxVol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">fluxVolNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_fluxVol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;m^3&#39;</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="c1"># Default units are m^3, but aren&#39;t stored in the tree!</span>
        <span class="n">unit_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getLengthConversionFactor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_fluxVol&#39;</span><span class="p">],</span> <span class="n">length_unit</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">unit_factor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fluxVol</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getVolLCFS"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getVolLCFS">[docs]</a>    <span class="k">def</span> <span class="nf">getVolLCFS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns volume within LCFS.</span>

<span class="sd">        Keyword Args:</span>
<span class="sd">            length_unit (String or 3): unit for LCFS volume.  Defaults to 3,</span>
<span class="sd">                denoting default volumetric unit (typically m^3).</span>

<span class="sd">        Returns:</span>
<span class="sd">            volLCFS (Array): [nt] array of volume within LCFS.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_volLCFS</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">volLCFSNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;Vol&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_volLCFS</span> <span class="o">=</span> <span class="n">volLCFSNode</span><span class="o">.</span><span class="n">data</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_volLCFS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">volLCFSNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="c1"># Default units should be &#39;cm^3&#39;:</span>
        <span class="n">unit_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getLengthConversionFactor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_volLCFS&#39;</span><span class="p">],</span> <span class="n">length_unit</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">unit_factor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_volLCFS</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getRmidPsi"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getRmidPsi">[docs]</a>    <span class="k">def</span> <span class="nf">getRmidPsi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns maximum major radius of each flux surface.</span>

<span class="sd">        Keyword Args:</span>
<span class="sd">            length_unit (String or 1): unit of Rmid.  Defaults to 1, indicating</span>
<span class="sd">                the default parameter unit (typically m).</span>

<span class="sd">        Returns:</span>
<span class="sd">            Rmid (Array): [nt,npsi] array of maximum (outboard) major radius of</span>
<span class="sd">            flux surface psi.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getRmidPsi not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getRLCFS"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getRLCFS">[docs]</a>    <span class="k">def</span> <span class="nf">getRLCFS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns R-values of LCFS position.</span>

<span class="sd">        Returns:</span>
<span class="sd">            RLCFS (Array): [nt,n] array of R of LCFS points.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_RLCFS</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">rgeo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;Rgeo&#39;</span><span class="p">)</span>
                <span class="n">RLCFSNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;rays&#39;</span><span class="p">)</span>
                <span class="n">RLCFStemp</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">hstack</span><span class="p">(</span>
                    <span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="n">RLCFSNode</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">RLCFSNode</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="n">templen</span> <span class="o">=</span> <span class="n">RLCFSNode</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_RLCFS</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span>
                    <span class="n">rgeo</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">templen</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">T</span> <span class="o">+</span> <span class="n">RLCFStemp</span> <span class="o">*</span> <span class="n">scipy</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span>
                    <span class="n">scipy</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span>
                        <span class="p">(</span>
                            <span class="n">scipy</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">scipy</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">templen</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                        <span class="p">),</span> <span class="p">(</span><span class="n">templen</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>  <span class="c1"># construct a 2d grid of angles, take cos, multiply by radius</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_RLCFS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">RLCFSNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">remapLCFS</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_RLCFS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_ZLCFS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="n">unit_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getLengthConversionFactor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_RLCFS&#39;</span><span class="p">],</span>
            <span class="n">length_unit</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">unit_factor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_RLCFS</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getZLCFS"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getZLCFS">[docs]</a>    <span class="k">def</span> <span class="nf">getZLCFS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns Z-values of LCFS position.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ZLCFS (Array): [nt,n] array of Z of LCFS points.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ZLCFS</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">zgeo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;Zgeo&#39;</span><span class="p">)</span>
                <span class="n">ZLCFSNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;rays&#39;</span><span class="p">)</span>
                <span class="n">ZLCFStemp</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">hstack</span><span class="p">(</span>
                    <span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">atleast_2d</span><span class="p">(</span><span class="n">ZLCFSNode</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">ZLCFSNode</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="n">templen</span> <span class="o">=</span> <span class="n">ZLCFSNode</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_ZLCFS</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span>
                    <span class="n">zgeo</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">templen</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">T</span> <span class="o">+</span> <span class="n">ZLCFStemp</span> <span class="o">*</span> <span class="n">scipy</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span>
                    <span class="n">scipy</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span>
                        <span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">scipy</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">templen</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
                        <span class="p">(</span><span class="n">templen</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>  <span class="c1"># construct a 2d grid of angles, take sin, multiply by radius</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_ZLCFS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">ZLCFSNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">remapLCFS</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_RLCFS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_ZLCFS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="n">unit_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getLengthConversionFactor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_ZLCFS&#39;</span><span class="p">],</span> <span class="n">length_unit</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">unit_factor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ZLCFS</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.remapLCFS"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.remapLCFS">[docs]</a>    <span class="k">def</span> <span class="nf">remapLCFS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Overwrites RLCFS, ZLCFS values pulled with explicitly-calculated</span>
<span class="sd">        contour of psinorm=1 surface.  This is then masked down by the limiter</span>
<span class="sd">        array using core.inPolygon, restricting the contour to the closed</span>
<span class="sd">        plasma surface and the divertor legs.</span>

<span class="sd">        Keyword Args:</span>
<span class="sd">            mask (Boolean): Default False.  Set True to mask LCFS path to</span>
<span class="sd">                limiter outline (using inPolygon).  Set False to draw full</span>
<span class="sd">                contour of psi = psiLCFS.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: if :py:mod:`matplotlib.pyplot` is not loaded.</span>
<span class="sd">            ValueError: if limiter outline is not available.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_has_plt</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                <span class="s2">&quot;Requires matplotlib.pyplot for contour calculation.&quot;</span>
            <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">Rlim</span><span class="p">,</span> <span class="n">Zlim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMachineCrossSection</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Limiter outline (self.getMachineCrossSection) must be &quot;</span>
                <span class="s2">&quot;available.&quot;</span>
            <span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">ioff</span><span class="p">()</span>

        <span class="n">psiRZ</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getFluxGrid</span><span class="p">()</span>  <span class="c1"># [nt,nZ,nR]</span>
        <span class="n">R</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRGrid</span><span class="p">()</span>
        <span class="n">Z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getZGrid</span><span class="p">()</span>
        <span class="n">psiLCFS</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getFluxLCFS</span><span class="p">()</span>

        <span class="n">RLCFS_stores</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ZLCFS_stores</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">maxlen</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">nt</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getTimeBase</span><span class="p">())</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nt</span><span class="p">):</span>
            <span class="n">cs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">psiRZ</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="p">[</span><span class="n">psiLCFS</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
            <span class="n">paths</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_paths</span><span class="p">()</span>
            <span class="n">RLCFS_frame</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">ZLCFS_frame</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">vertices</span>
                <span class="n">RLCFS_frame</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">v</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
                <span class="n">ZLCFS_frame</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">v</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
                <span class="n">RLCFS_frame</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
                <span class="n">ZLCFS_frame</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
            <span class="n">RLCFS_frame</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">RLCFS_frame</span><span class="p">)</span>
            <span class="n">ZLCFS_frame</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ZLCFS_frame</span><span class="p">)</span>

            <span class="c1"># generate masking array to vessel</span>
            <span class="k">if</span> <span class="n">mask</span><span class="p">:</span>
                <span class="n">maskarr</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">False</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">RLCFS_frame</span><span class="p">))])</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">RLCFS_frame</span><span class="p">):</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="n">ZLCFS_frame</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">maskarr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">inPolygon</span><span class="p">(</span><span class="n">Rlim</span><span class="p">,</span> <span class="n">Zlim</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

                <span class="n">RLCFS_frame</span> <span class="o">=</span> <span class="n">RLCFS_frame</span><span class="p">[</span><span class="n">maskarr</span><span class="p">]</span>
                <span class="n">ZLCFS_frame</span> <span class="o">=</span> <span class="n">ZLCFS_frame</span><span class="p">[</span><span class="n">maskarr</span><span class="p">]</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">RLCFS_frame</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">maxlen</span><span class="p">:</span>
                <span class="n">maxlen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">RLCFS_frame</span><span class="p">)</span>
            <span class="n">RLCFS_stores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">RLCFS_frame</span><span class="p">)</span>
            <span class="n">ZLCFS_stores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ZLCFS_frame</span><span class="p">)</span>

        <span class="n">RLCFS</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">nt</span><span class="p">,</span> <span class="n">maxlen</span><span class="p">))</span>
        <span class="n">ZLCFS</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">nt</span><span class="p">,</span> <span class="n">maxlen</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nt</span><span class="p">):</span>
            <span class="n">RLCFS_frame</span> <span class="o">=</span> <span class="n">RLCFS_stores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">ZLCFS_frame</span> <span class="o">=</span> <span class="n">ZLCFS_stores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">ni</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">RLCFS_frame</span><span class="p">)</span>
            <span class="n">RLCFS</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="n">ni</span><span class="p">]</span> <span class="o">=</span> <span class="n">RLCFS_frame</span>
            <span class="n">ZLCFS</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="n">ni</span><span class="p">]</span> <span class="o">=</span> <span class="n">ZLCFS_frame</span>

        <span class="c1"># store final values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_RLCFS</span> <span class="o">=</span> <span class="n">RLCFS</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ZLCFS</span> <span class="o">=</span> <span class="n">ZLCFS</span>

        <span class="c1"># set default unit parameters, based on RZ grid</span>
        <span class="n">rUnit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_rGrid&#39;</span><span class="p">]</span>
        <span class="n">zUnit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_zGrid&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_RLCFS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rUnit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_ZLCFS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">zUnit</span>

        <span class="c1"># cleanup</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ion</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ioff</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getF"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getF">[docs]</a>    <span class="k">def</span> <span class="nf">getF</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;returns F=RB_{\Phi}(\Psi), often calculated for grad-shafranov</span>
<span class="sd">        solutions.</span>

<span class="sd">        Returns:</span>
<span class="sd">            F (Array): [nt,npsi] array of F=RB_{\Phi}(\Psi)</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fpol</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">fNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;Jpol&#39;</span><span class="p">)</span>  <span class="c1"># From definition of F with poloidal current</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fpol</span> <span class="o">=</span> <span class="n">fNode</span><span class="o">.</span><span class="n">data</span><span class="p">[</span>
                    <span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">,</span> <span class="p">:</span><span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lpf</span><span class="p">:</span><span class="mi">2</span>
                <span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mf">2e-7</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_fpol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="s1">&#39;T m&#39;</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fpol</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getFluxPres"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getFluxPres">[docs]</a>    <span class="k">def</span> <span class="nf">getFluxPres</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns pressure at flux surface.</span>

<span class="sd">        Returns:</span>
<span class="sd">            p (Array): [nt,npsi] array of pressure on flux surface psi.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fluxPres</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">fluxPresNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;Pres&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fluxPres</span> <span class="o">=</span> <span class="n">fluxPresNode</span><span class="o">.</span><span class="n">data</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">][</span>
                    <span class="p">:,</span> <span class="p">:</span><span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lpf</span><span class="p">:</span><span class="mi">2</span>
                <span class="p">][:,</span> <span class="p">::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># reverse it so that it is a monotonically increasing function</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_fluxPres&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">fluxPresNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fluxPres</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getFPrime"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getFPrime">[docs]</a>    <span class="k">def</span> <span class="nf">getFPrime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;returns F&#39;, often calculated for grad-shafranov</span>
<span class="sd">        solutions.</span>

<span class="sd">        Returns:</span>
<span class="sd">            F (Array): [nt,npsi] array of F=RB_{\Phi}(\Psi)</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fpol</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">fNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;Jpol&#39;</span><span class="p">)</span>  <span class="c1"># From definition of F with poloidal current</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fpol</span> <span class="o">=</span> <span class="n">fNode</span><span class="o">.</span><span class="n">data</span><span class="p">[</span>
                    <span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lpf</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="mi">2</span>
                <span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mf">2e-7</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_fpol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="s1">&#39;T m&#39;</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fpol</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getFFPrime"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getFFPrime">[docs]</a>    <span class="k">def</span> <span class="nf">getFFPrime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns FF&#39; function used for grad-shafranov solutions.</span>

<span class="sd">        Returns:</span>
<span class="sd">            FFprime (Array): [nt,npsi] array of FF&#39; fromgrad-shafranov solution.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ffprim</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">FFPrimeNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;FFP&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_ffprim</span> <span class="o">=</span> <span class="n">FFPrimeNode</span><span class="o">.</span><span class="n">data</span><span class="p">[</span>
                    <span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">,</span> <span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">_lpf</span>
                <span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_ffprim&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">FFPrimeNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ffprim</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getPPrime"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getPPrime">[docs]</a>    <span class="k">def</span> <span class="nf">getPPrime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns plasma pressure gradient as a function of psi.</span>

<span class="sd">        Returns:</span>
<span class="sd">            pprime (Array): [nt,npsi] array of pressure gradient on flux surface</span>
<span class="sd">            psi from grad-shafranov solution.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pprime</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">pPrimeNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;Pres&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_pprime</span> <span class="o">=</span> <span class="n">pPrimeNode</span><span class="o">.</span><span class="n">data</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">][</span>
                    <span class="p">:,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lpf</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="mi">2</span>
                <span class="p">][:,</span> <span class="p">::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># reverse it so that it is a monotonically increasing function</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_pprime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">pPrimeNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pprime</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getElongation"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getElongation">[docs]</a>    <span class="k">def</span> <span class="nf">getElongation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns LCFS elongation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            kappa (Array): [nt] array of LCFS elongation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from AFS.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kappa</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">kappaNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_kappa</span> <span class="o">=</span> <span class="n">kappaNode</span><span class="o">.</span><span class="n">data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_kappa&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">kappaNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kappa</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getUpperTriangularity"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getUpperTriangularity">[docs]</a>    <span class="k">def</span> <span class="nf">getUpperTriangularity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns LCFS upper triangularity.</span>

<span class="sd">        Returns:</span>
<span class="sd">            deltau (Array): [nt] array of LCFS upper triangularity.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dupper</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">dupperNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;delRoben&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_dupper</span> <span class="o">=</span> <span class="n">dupperNode</span><span class="o">.</span><span class="n">data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_dupper&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">dupperNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dupper</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getLowerTriangularity"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getLowerTriangularity">[docs]</a>    <span class="k">def</span> <span class="nf">getLowerTriangularity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns LCFS lower triangularity.</span>

<span class="sd">        Returns:</span>
<span class="sd">            deltal (Array): [nt] array of LCFS lower triangularity.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dlower</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">dlowerNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;delRuntn&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_dlower</span> <span class="o">=</span> <span class="n">dlowerNode</span><span class="o">.</span><span class="n">data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_dlower&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">dlowerNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dlower</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getShaping"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getShaping">[docs]</a>    <span class="k">def</span> <span class="nf">getShaping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;pulls LCFS elongation and upper/lower triangularity.</span>

<span class="sd">        Returns:</span>
<span class="sd">            namedtuple containing (kappa, delta_u, delta_l)</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">kap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getElongation</span><span class="p">()</span>
            <span class="n">du</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getUpperTriangularity</span><span class="p">()</span>
            <span class="n">dl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getLowerTriangularity</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Shaping&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;kappa&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_u&#39;</span><span class="p">,</span> <span class="s1">&#39;delta_l&#39;</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">data</span><span class="p">(</span><span class="n">kappa</span><span class="o">=</span><span class="n">kap</span><span class="p">,</span> <span class="n">delta_u</span><span class="o">=</span><span class="n">du</span><span class="p">,</span> <span class="n">delta_l</span><span class="o">=</span><span class="n">dl</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getMagR"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getMagR">[docs]</a>    <span class="k">def</span> <span class="nf">getMagR</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns magnetic-axis major radius.</span>

<span class="sd">        Returns:</span>
<span class="sd">            magR (Array): [nt] array of major radius of magnetic axis.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rmag</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">rmagNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;Rmag&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_rmag</span> <span class="o">=</span> <span class="n">rmagNode</span><span class="o">.</span><span class="n">data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_rmag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">rmagNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">PyddError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="n">unit_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getLengthConversionFactor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_rmag&#39;</span><span class="p">],</span> <span class="n">length_unit</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">unit_factor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rmag</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getMagZ"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getMagZ">[docs]</a>    <span class="k">def</span> <span class="nf">getMagZ</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns magnetic-axis Z.</span>

<span class="sd">        Returns:</span>
<span class="sd">            magZ (Array): [nt] array of Z of magnetic axis.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zmag</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">zmagNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;Zmag&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_zmag</span> <span class="o">=</span> <span class="n">zmagNode</span><span class="o">.</span><span class="n">data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_zmag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">zmagNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="n">unit_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getLengthConversionFactor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_zmag&#39;</span><span class="p">],</span> <span class="n">length_unit</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">unit_factor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zmag</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getAreaLCFS"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getAreaLCFS">[docs]</a>    <span class="k">def</span> <span class="nf">getAreaLCFS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns LCFS cross-sectional area.</span>

<span class="sd">        Keyword Args:</span>
<span class="sd">            length_unit (String or 2): unit for LCFS area.  Defaults to 2,</span>
<span class="sd">                denoting default areal unit (typically m^2).</span>

<span class="sd">        Returns:</span>
<span class="sd">            areaLCFS (Array): [nt] array of LCFS area.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_areaLCFS</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">areaLCFSNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;Area&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_areaLCFS</span> <span class="o">=</span> <span class="n">areaLCFSNode</span><span class="o">.</span><span class="n">data</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_areaLCFS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">areaLCFSNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="c1"># Units should be cm^2:</span>
        <span class="n">unit_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getLengthConversionFactor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_areaLCFS&#39;</span><span class="p">],</span> <span class="n">length_unit</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">unit_factor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_areaLCFS</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getAOut"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getAOut">[docs]</a>    <span class="k">def</span> <span class="nf">getAOut</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns outboard-midplane minor radius at LCFS.</span>

<span class="sd">        Keyword Args:</span>
<span class="sd">            length_unit (String or 1): unit for minor radius.  Defaults to 1,</span>
<span class="sd">                denoting default length unit (typically m).</span>

<span class="sd">        Returns:</span>
<span class="sd">            aOut (Array): [nt] array of LCFS outboard-midplane minor radius.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aLCFS</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">aLCFSNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;ahor&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_aLCFS</span> <span class="o">=</span> <span class="n">aLCFSNode</span><span class="o">.</span><span class="n">data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_aLCFS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">aLCFSNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="n">unit_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getLengthConversionFactor</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_aLCFS&#39;</span><span class="p">],</span> <span class="n">length_unit</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">unit_factor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aLCFS</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getRmidOut"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getRmidOut">[docs]</a>    <span class="k">def</span> <span class="nf">getRmidOut</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns outboard-midplane major radius.</span>

<span class="sd">        Keyword Args:</span>
<span class="sd">            length_unit (String or 1): unit for major radius.  Defaults to 1,</span>
<span class="sd">                denoting default length unit (typically m).</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getRmidOut not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getGeometry"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getGeometry">[docs]</a>    <span class="k">def</span> <span class="nf">getGeometry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;pulls dimensional geometry parameters.</span>

<span class="sd">        Returns:</span>
<span class="sd">            namedtuple containing (magR,magZ,areaLCFS,aOut,RmidOut)</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">Rmag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMagR</span><span class="p">(</span>
                <span class="n">length_unit</span><span class="o">=</span><span class="p">(</span><span class="n">length_unit</span> <span class="k">if</span> <span class="n">length_unit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">Zmag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMagZ</span><span class="p">(</span>
                <span class="n">length_unit</span><span class="o">=</span><span class="p">(</span><span class="n">length_unit</span> <span class="k">if</span> <span class="n">length_unit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">AreaLCFS</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getAreaLCFS</span><span class="p">(</span>
                <span class="n">length_unit</span><span class="o">=</span><span class="p">(</span><span class="n">length_unit</span> <span class="k">if</span> <span class="n">length_unit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">2</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">aOut</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getAOut</span><span class="p">(</span>
                <span class="n">length_unit</span><span class="o">=</span><span class="p">(</span><span class="n">length_unit</span> <span class="k">if</span> <span class="n">length_unit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">RmidOut</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRmidOut</span><span class="p">(</span>
                <span class="n">length_unit</span><span class="o">=</span><span class="p">(</span><span class="n">length_unit</span> <span class="k">if</span> <span class="n">length_unit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span>
                <span class="s1">&#39;Geometry&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Rmag&#39;</span><span class="p">,</span> <span class="s1">&#39;Zmag&#39;</span><span class="p">,</span> <span class="s1">&#39;AreaLCFS&#39;</span><span class="p">,</span> <span class="s1">&#39;aOut&#39;</span><span class="p">,</span> <span class="s1">&#39;RmidOut&#39;</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">data</span><span class="p">(</span>
                <span class="n">Rmag</span><span class="o">=</span><span class="n">Rmag</span><span class="p">,</span> <span class="n">Zmag</span><span class="o">=</span><span class="n">Zmag</span><span class="p">,</span> <span class="n">AreaLCFS</span><span class="o">=</span><span class="n">AreaLCFS</span><span class="p">,</span> <span class="n">aOut</span><span class="o">=</span><span class="n">aOut</span><span class="p">,</span>
                <span class="n">RmidOut</span><span class="o">=</span><span class="n">RmidOut</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getQProfile"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getQProfile">[docs]</a>    <span class="k">def</span> <span class="nf">getQProfile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns profile of safety factor q.</span>

<span class="sd">        Returns:</span>
<span class="sd">            qpsi (Array): [nt,npsi] array of q on flux surface psi.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_qpsi</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">qpsiNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;Qpsi&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_qpsi</span> <span class="o">=</span> <span class="n">qpsiNode</span><span class="o">.</span><span class="n">data</span><span class="p">[</span>
                    <span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">_lpf</span>
                <span class="p">][:,</span> <span class="p">::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="c1"># there has to be a better way for this, but it makes it work...</span>
                <span class="c1"># the first value in the q is the edge value, and is supposed to be infinite</span>
                <span class="c1"># which throws off the phi and q splines completely</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_qpsi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">qpsiNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_qpsi</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getQ0"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getQ0">[docs]</a>    <span class="k">def</span> <span class="nf">getQ0</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns q on magnetic axis,q0.</span>

<span class="sd">        Returns:</span>
<span class="sd">            q0 (Array): [nt] array of q(psi=0).</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_q0</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">q0Node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;q0&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_q0</span> <span class="o">=</span> <span class="n">q0Node</span><span class="o">.</span><span class="n">data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_q0&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">q0Node</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">PyddError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_q0</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getQ95"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getQ95">[docs]</a>    <span class="k">def</span> <span class="nf">getQ95</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns q at 95% flux surface.</span>

<span class="sd">        Returns:</span>
<span class="sd">            q95 (Array): [nt] array of q(psi=0.95).</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_q95</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">q95Node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;q95&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_q95</span> <span class="o">=</span> <span class="n">q95Node</span><span class="o">.</span><span class="n">data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_q95&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">q95Node</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">PyddError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_q95</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getQLCFS"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getQLCFS">[docs]</a>    <span class="k">def</span> <span class="nf">getQLCFS</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns q on LCFS (interpolated).</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getQLCFS not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getQ1Surf"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getQ1Surf">[docs]</a>    <span class="k">def</span> <span class="nf">getQ1Surf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns outboard-midplane minor radius of q=1 surface.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getQ1Surf not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getQ2Surf"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getQ2Surf">[docs]</a>    <span class="k">def</span> <span class="nf">getQ2Surf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns outboard-midplane minor radius of q=2 surface.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getQ2Surf not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getQ3Surf"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getQ3Surf">[docs]</a>    <span class="k">def</span> <span class="nf">getQ3Surf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns outboard-midplane minor radius of q=3 surface.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getQ3Surf not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getQs"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getQs">[docs]</a>    <span class="k">def</span> <span class="nf">getQs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;pulls q values.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getQs not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getBtVac"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getBtVac">[docs]</a>    <span class="k">def</span> <span class="nf">getBtVac</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns vacuum toroidal field on-axis. THIS MAY BE INCORRECT</span>

<span class="sd">        Returns:</span>
<span class="sd">            BtVac (Array): [nt] array of vacuum toroidal field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_btaxv</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">btaxvNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;Bave&#39;</span><span class="p">)</span>
                <span class="c1"># technically Bave is the average over the volume, but for the core its a singular value</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_btaxv</span> <span class="o">=</span> <span class="n">btaxvNode</span><span class="o">.</span><span class="n">data</span><span class="p">[</span>
                    <span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">,</span> <span class="n">scipy</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">btaxvNode</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span>
                <span class="p">][:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_btaxv</span> <span class="o">*=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getBCentr</span><span class="p">())</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_btaxv&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">btaxvNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">PyddError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_btaxv</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getBtPla"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getBtPla">[docs]</a>    <span class="k">def</span> <span class="nf">getBtPla</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns on-axis plasma toroidal field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getBtPla not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getBpAvg"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getBpAvg">[docs]</a>    <span class="k">def</span> <span class="nf">getBpAvg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns average poloidal field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getFields not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getFields"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getFields">[docs]</a>    <span class="k">def</span> <span class="nf">getFields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;pulls vacuum and plasma toroidal field, avg poloidal field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getFields not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getIpCalc"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getIpCalc">[docs]</a>    <span class="k">def</span> <span class="nf">getIpCalc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns Plasma Current, is the same as getIpMeas.</span>

<span class="sd">        Returns:</span>
<span class="sd">            IpCalc (Array): [nt] array of the reconstructed plasma current.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IpCalc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">IpCalcNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;IpiPSI&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_IpCalc</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">IpCalcNode</span><span class="o">.</span><span class="n">data</span><span class="p">)[</span>
                    <span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span>
                <span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_IpCalc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">IpCalcNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">PyddError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IpCalc</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getIpMeas"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getIpMeas">[docs]</a>    <span class="k">def</span> <span class="nf">getIpMeas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns magnetics-measured plasma current.</span>

<span class="sd">        Returns:</span>
<span class="sd">            IpMeas (Array): [nt] array of measured plasma current.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getIpCalc</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getJp"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getJp">[docs]</a>    <span class="k">def</span> <span class="nf">getJp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns the calculated plasma current density Jp on flux grid.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Jp (Array): [nt,nz,nr] array of current density.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_Jp</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">JpNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;CDM&#39;</span><span class="p">,</span> <span class="n">calibrated</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_Jp</span> <span class="o">=</span> <span class="n">JpNode</span><span class="o">.</span><span class="n">data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_Jp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">JpNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">PyddError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_Jp</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getBetaT"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getBetaT">[docs]</a>    <span class="k">def</span> <span class="nf">getBetaT</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns the calculated toroidal beta.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getBetaT not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getBetaP"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getBetaP">[docs]</a>    <span class="k">def</span> <span class="nf">getBetaP</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns the calculated poloidal beta.</span>

<span class="sd">        Returns:</span>
<span class="sd">            BetaP (Array): [nt] array of the calculated average poloidal beta.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_betap</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">betapNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;betpol&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_betap</span> <span class="o">=</span> <span class="n">betapNode</span><span class="o">.</span><span class="n">data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_betap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">betapNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">PyddError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_betap</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getLi"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getLi">[docs]</a>    <span class="k">def</span> <span class="nf">getLi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns the calculated internal inductance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Li (Array): [nt] array of the calculated internal inductance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG afs system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_Li</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">LiNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_Li</span> <span class="o">=</span> <span class="n">LiNode</span><span class="o">.</span><span class="n">data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_Li&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">LiNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">PyddError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_Li</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getBetas"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getBetas">[docs]</a>    <span class="k">def</span> <span class="nf">getBetas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;pulls calculated betap, betat, internal inductance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getBetas not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getDiamagFlux"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getDiamagFlux">[docs]</a>    <span class="k">def</span> <span class="nf">getDiamagFlux</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns the measured diamagnetic-loop flux.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getDiamagFlux not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getDiamagBetaT"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getDiamagBetaT">[docs]</a>    <span class="k">def</span> <span class="nf">getDiamagBetaT</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns diamagnetic-loop toroidal beta.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getDiamagBetaT not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getDiamagBetaP"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getDiamagBetaP">[docs]</a>    <span class="k">def</span> <span class="nf">getDiamagBetaP</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns diamagnetic-loop avg poloidal beta.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getDiamagBetaP not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getDiamagTauE"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getDiamagTauE">[docs]</a>    <span class="k">def</span> <span class="nf">getDiamagTauE</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns diamagnetic-loop energy confinement time.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getDiamagTauE not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getDiamagWp"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getDiamagWp">[docs]</a>    <span class="k">def</span> <span class="nf">getDiamagWp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns diamagnetic-loop plasma stored energy.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getDiamagWp not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getDiamag"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getDiamag">[docs]</a>    <span class="k">def</span> <span class="nf">getDiamag</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;pulls diamagnetic flux measurements, toroidal and poloidal beta,</span>
<span class="sd">        energy confinement time and stored energy.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getDiamag not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getWMHD"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getWMHD">[docs]</a>    <span class="k">def</span> <span class="nf">getWMHD</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns calculated MHD stored energy.</span>

<span class="sd">        Returns:</span>
<span class="sd">            WMHD (Array): [nt] array of the calculated stored energy.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG afs system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_WMHD</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">WMHDNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSSQ</span><span class="p">(</span><span class="s1">&#39;Wmhd&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_WMHD</span> <span class="o">=</span> <span class="n">WMHDNode</span><span class="o">.</span><span class="n">data</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_WMHD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">WMHDNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">PyddError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_WMHD</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="AUGDDData.getTauMHD"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getTauMHD">[docs]</a>    <span class="k">def</span> <span class="nf">getTauMHD</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns the calculated MHD energy confinement time.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getTauMHD not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getPinj"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getPinj">[docs]</a>    <span class="k">def</span> <span class="nf">getPinj</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns the injected power.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">            .</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getPinj not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getWbdot"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getWbdot">[docs]</a>    <span class="k">def</span> <span class="nf">getWbdot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns the calculated d/dt of magnetic stored energy.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getWbdot not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getWpdot"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getWpdot">[docs]</a>    <span class="k">def</span> <span class="nf">getWpdot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns the calculated d/dt of plasma stored energy.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getWpdot not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getBCentr"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getBCentr">[docs]</a>    <span class="k">def</span> <span class="nf">getBCentr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns Vacuum toroidal magnetic field at center of plasma</span>

<span class="sd">        Returns:</span>
<span class="sd">            B_cent (Array): [nt] array of B_t at center [T]</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG afs system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_BCentr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">temp</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">shotfile</span><span class="p">(</span><span class="s1">&#39;MBI&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_shot</span><span class="p">)</span>
                    <span class="n">BCentrNode</span> <span class="o">=</span> <span class="n">temp</span><span class="p">(</span><span class="s1">&#39;BTFABB&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_BCentr</span> <span class="o">=</span> <span class="n">BCentrNode</span><span class="o">.</span><span class="n">data</span><span class="p">[</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_getNearestIdx</span><span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">getTimeBase</span><span class="p">(),</span> <span class="n">BCentrNode</span><span class="o">.</span><span class="n">time</span>
                        <span class="p">)</span>
                    <span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_BCentr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">BCentrNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">PyddError</span><span class="p">:</span>
                    <span class="n">temp</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">shotfile</span><span class="p">(</span><span class="s1">&#39;MBI&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_shot</span><span class="p">)</span>
                    <span class="n">BCentrNode</span> <span class="o">=</span> <span class="n">temp</span><span class="p">(</span><span class="s1">&#39;BTF&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_BCentr</span> <span class="o">=</span> <span class="n">BCentrNode</span><span class="o">.</span><span class="n">data</span><span class="p">[</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_getNearestIdx</span><span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">getTimeBase</span><span class="p">(),</span> <span class="n">BCentrNode</span><span class="o">.</span><span class="n">time</span>
                        <span class="p">)</span>
                    <span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_BCentr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">BCentrNode</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">PyddError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_BCentr</span></div>

<div class="viewcode-block" id="AUGDDData.getRCentr"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getRCentr">[docs]</a>    <span class="k">def</span> <span class="nf">getRCentr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns Radius of BCenter measurement</span>

<span class="sd">        Returns:</span>
<span class="sd">            R: Radial position where Bcent calculated [m]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_RCentr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_RCentr</span> <span class="o">=</span> <span class="mf">1.65</span>  <span class="c1"># Hardcoded from MAI file description of BTF</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_defaultUnits</span><span class="p">[</span><span class="s1">&#39;_RCentr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;m&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_RCentr</span></div>

<div class="viewcode-block" id="AUGDDData.getEnergy"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getEnergy">[docs]</a>    <span class="k">def</span> <span class="nf">getEnergy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;pulls the calculated energy parameters - stored energy, tau_E,</span>
<span class="sd">        injected power, d/dt of magnetic and plasma stored energy.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getEnergy not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getMachineCrossSection"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getMachineCrossSection">[docs]</a>    <span class="k">def</span> <span class="nf">getMachineCrossSection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns R,Z coordinates of vacuum-vessel wall for masking, plotting</span>
<span class="sd">        routines.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (`R_limiter`, `Z_limiter`)</span>

<span class="sd">            * **R_limiter** (`Array`) - [n] array of x-values for machine cross-section.</span>
<span class="sd">            * **Z_limiter** (`Array`) - [n] array of y-values for machine cross-section.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_Rlimiter</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_Zlimiter</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_Rlimiter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_Zlimiter</span> <span class="o">=</span> \
                    <span class="n">AUGVessel</span><span class="o">.</span><span class="n">getMachineCrossSection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_shot</span><span class="p">)</span>

            <span class="k">except</span> <span class="p">(</span><span class="n">PyddError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;data retrieval failed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_Rlimiter</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">_Zlimiter</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getMachineCrossSectionFull"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getMachineCrossSectionFull">[docs]</a>    <span class="k">def</span> <span class="nf">getMachineCrossSectionFull</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns R,Z coordinates of vacuum-vessel wall for plotting routines.</span>

<span class="sd">        Absent additional vector-graphic data on machine cross-section, returns</span>
<span class="sd">        :py:meth:`getMachineCrossSection`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            result from getMachineCrossSection().</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">AUGVessel</span><span class="o">.</span><span class="n">getMachineCrossSectionFull</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_shot</span><span class="p">)</span>
        <span class="n">x</span><span class="p">[</span><span class="n">x</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRGrid</span><span class="p">()</span><span class="o">.</span><span class="n">max</span><span class="p">()]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRGrid</span><span class="p">()</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getCurrentSign"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getCurrentSign">[docs]</a>    <span class="k">def</span> <span class="nf">getCurrentSign</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the sign of the current, based on the check in Steve Wolfe&#39;s </span>
<span class="sd">        IDL implementation efit_rz2psi.pro.</span>

<span class="sd">        Returns:</span>
<span class="sd">            currentSign (Integer): 1 for positive-direction current, -1 for negative.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currentSign</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_currentSign</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="n">scipy</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getIpMeas</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mf">1e5</span> <span class="k">else</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currentSign</span></div>

<div class="viewcode-block" id="AUGDDData.getParam"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getParam">[docs]</a>    <span class="k">def</span> <span class="nf">getParam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Backup function, applying a direct path input for tree-like data</span>
<span class="sd">        storage access for parameters not typically found in</span>
<span class="sd">        :py:class:`Equilbrium &lt;eqtools.core.Equilbrium&gt;` object.</span>
<span class="sd">        Directly calls attributes read from g/a-files in copy-safe manner.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (String): Parameter name for value stored in EqdskReader</span>
<span class="sd">                instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Not implemented on ASDEX-Upgrade reconstructions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;self.getEnergy not implemented.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.getSSQ"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.getSSQ">[docs]</a>    <span class="k">def</span> <span class="nf">getSSQ</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inp</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns single value quantities in the case SV file doesn&#39;t exist</span>
<span class="sd">        and coniditions the data in a way that is expected from a dd SV</span>
<span class="sd">        shotfile. This seamlessly hides the lack of an SV file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            signal (dd.signal Object): corresponding data</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if module cannot retrieve data from the AUG AFS system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_SSQ</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">SSQnameNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;SSQnam&#39;</span><span class="p">,</span> <span class="n">calibrated</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="c1"># create a dict mapping the various quantities to positions in the in the data array</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_SSQname</span> <span class="o">=</span> <span class="n">SSQnameNode</span><span class="o">.</span><span class="n">data</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_SSQname</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">char</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span>
                        <span class="n">SSQnameNode</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">view</span><span class="p">(</span>
                            <span class="s1">&#39;S&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">SSQnameNode</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                        <span class="p">)</span>
                    <span class="p">)</span>  <span class="c1"># concatenate and strip blanks</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_SSQname</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">char</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span>
                        <span class="n">SSQnameNode</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">view</span><span class="p">(</span>
                            <span class="s1">&#39;S&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">SSQnameNode</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                        <span class="p">)</span>
                    <span class="p">)</span>  <span class="c1"># concatenate and strip blanks</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_SSQname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_SSQname</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_SSQname</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>  <span class="c1"># remove empty entries</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_SSQname</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                    <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_SSQname</span><span class="p">,</span> <span class="n">scipy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_SSQname</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                <span class="p">)</span>  <span class="c1"># zip the dict together</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_SSQ</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_MDSTree</span><span class="p">(</span><span class="s1">&#39;SSQ&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>

            <span class="k">except</span> <span class="p">(</span><span class="n">PyddError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">inp</span> <span class="o">==</span> <span class="s1">&#39;rays&#39;</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_SSQ</span><span class="p">[</span>
                <span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_SSQname</span><span class="p">[</span><span class="s1">&#39;rays015&#39;</span><span class="p">]:</span><span class="bp">self</span><span class="o">.</span><span class="n">_SSQname</span><span class="p">[</span><span class="s1">&#39;rays000&#39;</span><span class="p">]</span>
            <span class="p">]</span>  <span class="c1"># really hackish. This line might break at some point</span>
            <span class="n">signal</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">signalGroup</span><span class="p">(</span><span class="n">inp</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">signal</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span>
                    <span class="n">inp</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_SSQ</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">_timeidxend</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_SSQname</span><span class="p">[</span><span class="n">inp</span><span class="p">]]</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data retrieval failed.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">signal</span></div>

<div class="viewcode-block" id="AUGDDData.rz2BR"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.rz2BR">[docs]</a>    <span class="k">def</span> <span class="nf">rz2BR</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">return_t</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">make_grid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">each_t</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span>
    <span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Calculates the major radial component of the magnetic field at the given (R, Z, t) coordinates.</span>

<span class="sd">        Uses</span>

<span class="sd">        .. math::</span>

<span class="sd">            B_R = -\frac{1}{2 \pi R}\frac{\partial \psi}{\partial Z}</span>

<span class="sd">        Args:</span>
<span class="sd">            R (Array-like or scalar float): Values of the radial coordinate to</span>
<span class="sd">                map to radial field. If `R` and `Z` are both scalar values,</span>
<span class="sd">                they are used as the coordinate pair for all of the values in</span>
<span class="sd">                `t`. Must have the same shape as `Z` unless the `make_grid`</span>
<span class="sd">                keyword is set. If the `make_grid` keyword is True, `R` must</span>
<span class="sd">                have exactly one dimension.</span>
<span class="sd">            Z (Array-like or scalar float): Values of the vertical coordinate to</span>
<span class="sd">                map to radial field. If `R` and `Z` are both scalar values,</span>
<span class="sd">                they are used as the coordinate pair for all of the values in</span>
<span class="sd">                `t`. Must have the same shape as `R` unless the `make_grid`</span>
<span class="sd">                keyword is set. If the `make_grid` keyword is True, `Z` must</span>
<span class="sd">                have exactly one dimension.</span>
<span class="sd">            t (Array-like or scalar float): Times to perform the conversion at.</span>
<span class="sd">                If `t` is a single value, it is used for all of the elements of</span>
<span class="sd">                `R`, `Z`. If the `each_t` keyword is True, then `t` must be</span>
<span class="sd">                scalar or have exactly one dimension. If the `each_t` keyword is</span>
<span class="sd">                False, `t` must have the same shape as `R` and `Z` (or their</span>
<span class="sd">                meshgrid if `make_grid` is True).</span>

<span class="sd">        Keyword Args:</span>
<span class="sd">            each_t (Boolean): When True, the elements in `R`, `Z` are evaluated</span>
<span class="sd">                at each value in `t`. If True, `t` must have only one dimension</span>
<span class="sd">                (or be a scalar). If False, `t` must match the shape of `R` and</span>
<span class="sd">                `Z` or be a scalar. Default is True (evaluate ALL `R`, `Z` at</span>
<span class="sd">                EACH element in `t`).</span>
<span class="sd">            make_grid (Boolean): Set to True to pass `R` and `Z` through</span>
<span class="sd">                :py:func:`scipy.meshgrid` before evaluating. If this is set to</span>
<span class="sd">                True, `R` and `Z` must each only have a single dimension, but</span>
<span class="sd">                can have different lengths. Default is False (do not form</span>
<span class="sd">                meshgrid).</span>
<span class="sd">            length_unit (String or 1): Length unit that `R`, `Z` are given in.</span>
<span class="sd">                If a string is given, it must be a valid unit specifier:</span>

<span class="sd">                    ===========  ===========</span>
<span class="sd">                    &#39;m&#39;          meters</span>
<span class="sd">                    &#39;cm&#39;         centimeters</span>
<span class="sd">                    &#39;mm&#39;         millimeters</span>
<span class="sd">                    &#39;in&#39;         inches</span>
<span class="sd">                    &#39;ft&#39;         feet</span>
<span class="sd">                    &#39;yd&#39;         yards</span>
<span class="sd">                    &#39;smoot&#39;      smoots</span>
<span class="sd">                    &#39;cubit&#39;      cubits</span>
<span class="sd">                    &#39;hand&#39;       hands</span>
<span class="sd">                    &#39;default&#39;    meters</span>
<span class="sd">                    ===========  ===========</span>

<span class="sd">                If length_unit is 1 or None, meters are assumed. The default</span>
<span class="sd">                value is 1 (use meters).</span>
<span class="sd">            return_t (Boolean): Set to True to return a tuple of (`BR`,</span>
<span class="sd">                `time_idxs`), where `time_idxs` is the array of time indices</span>
<span class="sd">                actually used in evaluating `BR` with nearest-neighbor</span>
<span class="sd">                interpolation. (This is mostly present as an internal helper.)</span>
<span class="sd">                Default is False (only return `BR`).</span>

<span class="sd">        Returns:</span>
<span class="sd">            `BR` or (`BR`, `time_idxs`)</span>

<span class="sd">            * **BR** (`Array or scalar float`) - The major radial component of</span>
<span class="sd">              the magnetic field. If all of the input arguments are scalar, then</span>
<span class="sd">              a scalar is returned. Otherwise, a scipy Array is returned. If `R`</span>
<span class="sd">              and `Z` both have the same shape then `BR` has this shape as well,</span>
<span class="sd">              unless the `make_grid` keyword was True, in which case `BR` has</span>
<span class="sd">              shape (len(`Z`), len(`R`)).</span>
<span class="sd">            * **time_idxs** (Array with same shape as `BR`) - The indices </span>
<span class="sd">              (in :py:meth:`self.getTimeBase`) that were used for</span>
<span class="sd">              nearest-neighbor interpolation. Only returned if `return_t` is</span>
<span class="sd">              True.</span>

<span class="sd">        Examples:</span>
<span class="sd">            All assume that `Eq_instance` is a valid instance of the appropriate</span>
<span class="sd">            extension of the :py:class:`Equilibrium` abstract class.</span>

<span class="sd">            Find single BR value at R=0.6m, Z=0.0m, t=0.26s::</span>

<span class="sd">                BR_val = Eq_instance.rz2BR(0.6, 0, 0.26)</span>

<span class="sd">            Find BR values at (R, Z) points (0.6m, 0m) and (0.8m, 0m) at the</span>
<span class="sd">            single time t=0.26s. Note that the `Z` vector must be fully</span>
<span class="sd">            specified, even if the values are all the same::</span>

<span class="sd">                BR_arr = Eq_instance.rz2BR([0.6, 0.8], [0, 0], 0.26)</span>

<span class="sd">            Find BR values at (R, Z) points (0.6m, 0m) at times t=[0.2s, 0.3s]::</span>

<span class="sd">                BR_arr = Eq_instance.rz2BR(0.6, 0, [0.2, 0.3])</span>

<span class="sd">            Find BR values at (R, Z, t) points (0.6m, 0m, 0.2s) and</span>
<span class="sd">            (0.5m, 0.2m, 0.3s)::</span>

<span class="sd">                BR_arr = Eq_instance.rz2BR([0.6, 0.5], [0, 0.2], [0.2, 0.3], each_t=False)</span>

<span class="sd">            Find BR values on grid defined by 1D vector of radial positions `R`</span>
<span class="sd">            and 1D vector of vertical positions `Z` at time t=0.2s::</span>

<span class="sd">                BR_mat = Eq_instance.rz2BR(R, Z, 0.2, make_grid=True)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">AUGDDData</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">rz2BR</span><span class="p">(</span>
            <span class="n">R</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">return_t</span><span class="o">=</span><span class="n">return_t</span><span class="p">,</span> <span class="n">make_grid</span><span class="o">=</span><span class="n">make_grid</span><span class="p">,</span> <span class="n">each_t</span><span class="o">=</span><span class="n">each_t</span><span class="p">,</span>
            <span class="n">length_unit</span><span class="o">=</span><span class="n">length_unit</span>
        <span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">scipy</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span></div>

<div class="viewcode-block" id="AUGDDData.rz2BZ"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDData.rz2BZ">[docs]</a>    <span class="k">def</span> <span class="nf">rz2BZ</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">return_t</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">make_grid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">each_t</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">length_unit</span><span class="o">=</span><span class="mi">1</span>
    <span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Calculates the vertical component of the magnetic field at the given (R, Z, t) coordinates.</span>

<span class="sd">        Uses</span>

<span class="sd">        .. math::</span>

<span class="sd">            B_Z = \frac{1}{2 \pi R}\frac{\partial \psi}{\partial R}</span>

<span class="sd">        Args:</span>
<span class="sd">            R (Array-like or scalar float): Values of the radial coordinate to</span>
<span class="sd">                map to vertical field. If `R` and `Z` are both scalar values,</span>
<span class="sd">                they are used as the coordinate pair for all of the values in</span>
<span class="sd">                `t`. Must have the same shape as `Z` unless the `make_grid`</span>
<span class="sd">                keyword is set. If the `make_grid` keyword is True, `R` must</span>
<span class="sd">                have exactly one dimension.</span>
<span class="sd">            Z (Array-like or scalar float): Values of the vertical coordinate to</span>
<span class="sd">                map to vertical field. If `R` and `Z` are both scalar values,</span>
<span class="sd">                they are used as the coordinate pair for all of the values in</span>
<span class="sd">                `t`. Must have the same shape as `R` unless the `make_grid`</span>
<span class="sd">                keyword is set. If the `make_grid` keyword is True, `Z` must</span>
<span class="sd">                have exactly one dimension.</span>
<span class="sd">            t (Array-like or scalar float): Times to perform the conversion at.</span>
<span class="sd">                If `t` is a single value, it is used for all of the elements of</span>
<span class="sd">                `R`, `Z`. If the `each_t` keyword is True, then `t` must be</span>
<span class="sd">                scalar or have exactly one dimension. If the `each_t` keyword is</span>
<span class="sd">                False, `t` must have the same shape as `R` and `Z` (or their</span>
<span class="sd">                meshgrid if `make_grid` is True).</span>

<span class="sd">        Keyword Args:</span>
<span class="sd">            each_t (Boolean): When True, the elements in `R`, `Z` are evaluated </span>
<span class="sd">                at each value in `t`. If True, `t` must have only one dimension</span>
<span class="sd">                (or be a scalar). If False, `t` must match the shape of `R` and</span>
<span class="sd">                `Z` or be a scalar. Default is True (evaluate ALL `R`, `Z` at</span>
<span class="sd">                EACH element in `t`).</span>
<span class="sd">            make_grid (Boolean): Set to True to pass `R` and `Z` through</span>
<span class="sd">                :py:func:`scipy.meshgrid` before evaluating. If this is set to</span>
<span class="sd">                True, `R` and `Z` must each only have a single dimension, but</span>
<span class="sd">                can have different lengths. Default is False (do not form</span>
<span class="sd">                meshgrid).</span>
<span class="sd">            length_unit (String or 1): Length unit that `R`, `Z` are given in.</span>
<span class="sd">                If a string is given, it must be a valid unit specifier:</span>

<span class="sd">                    ===========  ===========</span>
<span class="sd">                    &#39;m&#39;          meters</span>
<span class="sd">                    &#39;cm&#39;         centimeters</span>
<span class="sd">                    &#39;mm&#39;         millimeters</span>
<span class="sd">                    &#39;in&#39;         inches</span>
<span class="sd">                    &#39;ft&#39;         feet</span>
<span class="sd">                    &#39;yd&#39;         yards</span>
<span class="sd">                    &#39;smoot&#39;      smoots</span>
<span class="sd">                    &#39;cubit&#39;      cubits</span>
<span class="sd">                    &#39;hand&#39;       hands</span>
<span class="sd">                    &#39;default&#39;    meters</span>
<span class="sd">                    ===========  ===========</span>

<span class="sd">                If length_unit is 1 or None, meters are assumed. The default</span>
<span class="sd">                value is 1 (use meters).</span>
<span class="sd">            return_t (Boolean): Set to True to return a tuple of (`BZ`,</span>
<span class="sd">                `time_idxs`), where `time_idxs` is the array of time indices</span>
<span class="sd">                actually used in evaluating `BZ` with nearest-neighbor</span>
<span class="sd">                interpolation. (This is mostly present as an internal helper.)</span>
<span class="sd">                Default is False (only return `BZ`).</span>

<span class="sd">        Returns:</span>
<span class="sd">            `BZ` or (`BZ`, `time_idxs`)</span>

<span class="sd">            * **BZ** (`Array or scalar float`) - The vertical component of the</span>
<span class="sd">              magnetic field. If all of the input arguments are scalar, then a</span>
<span class="sd">              scalar is returned. Otherwise, a scipy Array is returned. If `R`</span>
<span class="sd">              and `Z` both have the same shape then `BZ` has this shape as well,</span>
<span class="sd">              unless the `make_grid` keyword was True, in which case `BZ` has</span>
<span class="sd">              shape (len(`Z`), len(`R`)).</span>
<span class="sd">            * **time_idxs** (Array with same shape as `BZ`) - The indices</span>
<span class="sd">              (in :py:meth:`self.getTimeBase`) that were used for</span>
<span class="sd">              nearest-neighbor interpolation. Only returned if `return_t` is</span>
<span class="sd">              True.</span>

<span class="sd">        Examples:</span>
<span class="sd">            All assume that `Eq_instance` is a valid instance of the appropriate</span>
<span class="sd">            extension of the :py:class:`Equilibrium` abstract class.</span>

<span class="sd">            Find single BZ value at R=0.6m, Z=0.0m, t=0.26s::</span>

<span class="sd">                BZ_val = Eq_instance.rz2BZ(0.6, 0, 0.26)</span>

<span class="sd">            Find BZ values at (R, Z) points (0.6m, 0m) and (0.8m, 0m) at the</span>
<span class="sd">            single time t=0.26s. Note that the `Z` vector must be fully</span>
<span class="sd">            specified, even if the values are all the same::</span>

<span class="sd">                BZ_arr = Eq_instance.rz2BZ([0.6, 0.8], [0, 0], 0.26)</span>

<span class="sd">            Find BZ values at (R, Z) points (0.6m, 0m) at times t=[0.2s, 0.3s]::</span>

<span class="sd">                BZ_arr = Eq_instance.rz2BZ(0.6, 0, [0.2, 0.3])</span>

<span class="sd">            Find BZ values at (R, Z, t) points (0.6m, 0m, 0.2s) and</span>
<span class="sd">            (0.5m, 0.2m, 0.3s)::</span>

<span class="sd">                BZ_arr = Eq_instance.rz2BZ([0.6, 0.5], [0, 0.2], [0.2, 0.3], each_t=False)</span>

<span class="sd">            Find BZ values on grid defined by 1D vector of radial positions `R`</span>
<span class="sd">            and 1D vector of vertical positions `Z` at time t=0.2s::</span>

<span class="sd">                BZ_mat = Eq_instance.rz2BZ(R, Z, 0.2, make_grid=True)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">AUGDDData</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">rz2BZ</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">return_t</span><span class="o">=</span><span class="n">return_t</span><span class="p">,</span> <span class="n">make_grid</span><span class="o">=</span><span class="n">make_grid</span><span class="p">,</span> <span class="n">each_t</span><span class="o">=</span><span class="n">each_t</span><span class="p">,</span> <span class="n">length_unit</span><span class="o">=</span><span class="n">length_unit</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">scipy</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="YGCAUGInterface"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.YGCAUGInterface">[docs]</a><span class="k">class</span> <span class="nc">YGCAUGInterface</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="c1">#============================================================================================================</span>
    <span class="c1">#</span>
    <span class="c1">#                     VESSEL OUTLINE HARDCODE VALUES DUE TO ASDEX UPGRADE INCONSISTENCIES</span>
    <span class="c1">#</span>
    <span class="c1">#============================================================================================================</span>

    <span class="c1"># Rather than use another dependency in code, this stores all the necessary interfacing from the data structure</span>
    <span class="c1"># the only necessary implementation is the data handler (dd python package)</span>
    <span class="n">_vessel_components</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
                          <span class="mi">948</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
                          <span class="mi">8650</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
                          <span class="mi">9401</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
                          <span class="mi">12751</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
                          <span class="mi">14051</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
                          <span class="mi">14601</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
                          <span class="mi">16315</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
                          <span class="mi">18204</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
                          <span class="mi">19551</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
                          <span class="mi">21485</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
                          <span class="mi">25891</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
                          <span class="mi">30136</span><span class="p">:(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
                          <span class="p">}</span>

    <span class="c1"># counter-clockwise from the inner wall order of components</span>
    <span class="n">_order</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:(</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
              <span class="mi">948</span><span class="p">:(</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
              <span class="mi">8650</span><span class="p">:(</span><span class="mi">9</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
              <span class="mi">9401</span><span class="p">:(</span><span class="mi">9</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
              <span class="mi">12751</span><span class="p">:(</span><span class="mi">9</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
              <span class="mi">14051</span><span class="p">:(</span><span class="mi">9</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
              <span class="mi">14601</span><span class="p">:(</span><span class="mi">9</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">34</span><span class="p">),</span>
              <span class="mi">16315</span><span class="p">:(</span><span class="mi">9</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">38</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">34</span><span class="p">),</span>
              <span class="mi">18204</span><span class="p">:(</span><span class="mi">9</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">38</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">34</span><span class="p">),</span>
              <span class="mi">19551</span><span class="p">:(</span><span class="mi">9</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">38</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">34</span><span class="p">),</span>
              <span class="mi">21485</span><span class="p">:(</span><span class="mi">9</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">38</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">34</span><span class="p">),</span>
              <span class="mi">25891</span><span class="p">:(</span><span class="mi">9</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">41</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="mi">43</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">38</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">34</span><span class="p">),</span>
              <span class="mi">30136</span><span class="p">:(</span><span class="mi">9</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">41</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="mi">43</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">38</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">34</span><span class="p">)</span>
              <span class="p">}</span>

    <span class="c1"># start location in array of values for given object closest to plasma</span>
    <span class="n">_start</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:(</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
              <span class="mi">948</span><span class="p">:(</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
              <span class="mi">8650</span><span class="p">:(</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
              <span class="mi">9401</span><span class="p">:(</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
              <span class="mi">12751</span><span class="p">:(</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
              <span class="mi">14051</span><span class="p">:(</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
              <span class="mi">14601</span><span class="p">:(</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
              <span class="mi">16315</span><span class="p">:(</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
              <span class="mi">18204</span><span class="p">:(</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
              <span class="mi">19551</span><span class="p">:(</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
              <span class="mi">21485</span><span class="p">:(</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
              <span class="mi">25891</span><span class="p">:(</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
              <span class="mi">30136</span><span class="p">:(</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
              <span class="p">}</span>

    <span class="c1"># end location in array of values for given object closest to plasma</span>
    <span class="n">_end</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:(</span><span class="mi">42</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
            <span class="mi">948</span><span class="p">:(</span><span class="mi">42</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
            <span class="mi">8650</span><span class="p">:(</span><span class="mi">42</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
            <span class="mi">9401</span><span class="p">:(</span><span class="mi">42</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
            <span class="mi">12751</span><span class="p">:(</span><span class="mi">39</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
            <span class="mi">14051</span><span class="p">:(</span><span class="mi">39</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
            <span class="mi">14601</span><span class="p">:(</span><span class="mi">39</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
            <span class="mi">16315</span><span class="p">:(</span><span class="mi">42</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
            <span class="mi">18204</span><span class="p">:(</span><span class="mi">42</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
            <span class="mi">19551</span><span class="p">:(</span><span class="mi">42</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
            <span class="mi">21485</span><span class="p">:(</span><span class="mi">42</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
            <span class="mi">25891</span><span class="p">:(</span><span class="mi">42</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">57</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
            <span class="mi">30136</span><span class="p">:(</span><span class="mi">42</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">57</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
            <span class="p">}</span>

    <span class="c1"># Which objects are stored reverse of the counter-clockwise motion as described in order</span>
    <span class="n">_rev</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
            <span class="mi">948</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
            <span class="mi">8650</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
            <span class="mi">9401</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
            <span class="mi">12751</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
            <span class="mi">14051</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
            <span class="mi">14601</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
            <span class="mi">16315</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
            <span class="mi">18204</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
            <span class="mi">19551</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
            <span class="mi">21485</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
            <span class="mi">25891</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
            <span class="mi">30136</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
            <span class="p">}</span>

    <span class="c1"># ONLY CERTAIN YGC FILES EXIST I MEAN CMON ITS NOT THAT MUCH MEMORY</span>
    <span class="n">_ygc_shotfiles</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">948</span><span class="p">,</span> <span class="mi">8650</span><span class="p">,</span> <span class="mi">9401</span><span class="p">,</span> <span class="mi">12751</span><span class="p">,</span> <span class="mi">14051</span><span class="p">,</span> <span class="mi">14601</span><span class="p">,</span> <span class="mi">16315</span><span class="p">,</span> <span class="mi">18204</span><span class="p">,</span> <span class="mi">19551</span><span class="p">,</span> <span class="mi">21485</span><span class="p">,</span> <span class="mi">25891</span><span class="p">,</span> <span class="mi">30136</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_getData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shot</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_ygc_shot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ygc_shotfiles</span><span class="p">[</span>
                <span class="n">scipy</span><span class="o">.</span><span class="n">searchsorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ygc_shotfiles</span><span class="p">,</span> <span class="p">[</span><span class="n">shot</span><span class="p">],</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="p">][</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># find nearest shotfile which is the before it</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ygc_shot</span> <span class="o">&lt;</span> <span class="mi">8650</span><span class="p">:</span>
                <span class="n">ccT</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">shotfile</span><span class="p">(</span><span class="s1">&#39;YGC&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ygc_shotfiles</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>  <span class="c1"># This is because of shots &lt;8650 not having RrGC zzGC or inxbeg</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ccT</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">shotfile</span><span class="p">(</span><span class="s1">&#39;YGC&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ygc_shot</span><span class="p">)</span>
            <span class="n">xvctr</span> <span class="o">=</span> <span class="n">ccT</span><span class="p">(</span><span class="s1">&#39;RrGC&#39;</span><span class="p">)</span>
            <span class="n">yvctr</span> <span class="o">=</span> <span class="n">ccT</span><span class="p">(</span><span class="s1">&#39;zzGC&#39;</span><span class="p">)</span>
            <span class="n">nvctr</span> <span class="o">=</span> <span class="n">ccT</span><span class="p">(</span><span class="s1">&#39;inxbeg&#39;</span><span class="p">)</span>
            <span class="n">nvctr</span> <span class="o">=</span> <span class="n">nvctr</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">PyddError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;data retrieval failed.&quot;</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;data load failed.&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">xvctr</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">yvctr</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">nvctr</span>

<div class="viewcode-block" id="YGCAUGInterface.getMachineCrossSection"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.YGCAUGInterface.getMachineCrossSection">[docs]</a>    <span class="k">def</span> <span class="nf">getMachineCrossSection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shot</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns R,Z coordinates of vacuum-vessel wall for masking, plotting</span>
<span class="sd">        routines.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (`R_limiter`, `Z_limiter`)</span>

<span class="sd">            * **R_limiter** (`Array`) - [n] array of x-values for machine cross-section.</span>
<span class="sd">            * **Z_limiter** (`Array`) - [n] array of y-values for machine cross-section.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xvctr</span><span class="p">,</span> <span class="n">yvctr</span><span class="p">,</span> <span class="n">nvctr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getData</span><span class="p">(</span><span class="n">shot</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># by reference to simplify coding</span>
        <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_ygc_shot</span><span class="p">]</span>
        <span class="n">end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_end</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_ygc_shot</span><span class="p">]</span>
        <span class="n">rev</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rev</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_ygc_shot</span><span class="p">]</span>
        <span class="n">order</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_order</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_ygc_shot</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">order</span><span class="p">)):</span>
            <span class="n">idx</span> <span class="o">=</span> <span class="n">nvctr</span><span class="p">[</span><span class="n">order</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
            <span class="n">xseg</span> <span class="o">=</span> <span class="n">xvctr</span><span class="p">[</span><span class="n">idx</span><span class="o">+</span><span class="n">start</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span><span class="n">idx</span><span class="o">+</span><span class="n">end</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
            <span class="n">yseg</span> <span class="o">=</span> <span class="n">yvctr</span><span class="p">[</span><span class="n">idx</span><span class="o">+</span><span class="n">start</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span><span class="n">idx</span><span class="o">+</span><span class="n">end</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>

            <span class="k">if</span> <span class="n">rev</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">xseg</span> <span class="o">=</span> <span class="n">xseg</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">yseg</span> <span class="o">=</span> <span class="n">yseg</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="n">x</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">xseg</span><span class="p">)</span>
            <span class="n">y</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">yseg</span><span class="p">)</span>

        <span class="n">x</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
        <span class="n">y</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">y</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span></div>

<div class="viewcode-block" id="YGCAUGInterface.getMachineCrossSectionFull"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.YGCAUGInterface.getMachineCrossSectionFull">[docs]</a>    <span class="k">def</span> <span class="nf">getMachineCrossSectionFull</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shot</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns R,Z coordinates of vacuum-vessel wall for plotting routines.</span>

<span class="sd">        Absent additional vector-graphic data on machine cross-section, returns</span>
<span class="sd">        :py:meth:`getMachineCrossSection`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            result from getMachineCrossSection().</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">xvctr</span><span class="p">,</span> <span class="n">yvctr</span><span class="p">,</span> <span class="n">nvctr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getData</span><span class="p">(</span><span class="n">shot</span><span class="p">)</span>

        <span class="c1"># get valid components which is in the data structure for some shots, but not all and had to be hardcoded</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vessel_components</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_ygc_shot</span><span class="p">]</span>

        <span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nvctr</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">temp</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">xseg</span> <span class="o">=</span> <span class="n">xvctr</span><span class="p">[</span><span class="n">nvctr</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span><span class="n">nvctr</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]]</span>
                <span class="n">yseg</span> <span class="o">=</span> <span class="n">yvctr</span><span class="p">[</span><span class="n">nvctr</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span><span class="n">nvctr</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]]</span>
                <span class="n">x</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">xseg</span><span class="p">)</span>
                <span class="n">y</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">yseg</span><span class="p">)</span>
                <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
                <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

        <span class="n">x</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">x</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></div></div>


<span class="k">if</span> <span class="n">_has_dd</span><span class="p">:</span>
    <span class="n">AUGVessel</span> <span class="o">=</span> <span class="n">YGCAUGInterface</span><span class="p">()</span>  <span class="c1"># import setting necessary to get the vacuum vessel</span>


<div class="viewcode-block" id="AUGDDDataProp"><a class="viewcode-back" href="../../eqtools.html#eqtools.AUGData.AUGDDDataProp">[docs]</a><span class="k">class</span> <span class="nc">AUGDDDataProp</span><span class="p">(</span><span class="n">AUGDDData</span><span class="p">,</span> <span class="n">PropertyAccessMixin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;AUGDDData with the PropertyAccessMixin added to enable property-style</span>
<span class="sd">    access. This is good for interactive use, but may drag the performance down.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">eqtools 1.3.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Module code</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Mark Chilenski, Ian Faust and John Walk.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>